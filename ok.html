<!-- Remplacez votre formulaire actuel par celui-ci -->
<form id="contactForm">
    <div class="row g-3">
        <div class="col-md-6">
            <label for="prenom" class="form-label">Prénom *</label>
            <input type="text" class="form-control" id="prenom" name="prenom" required>
        </div>
        <div class="col-md-6">
            <label for="nom" class="form-label">Nom *</label>
            <input type="text" class="form-control" id="nom" name="nom" required>
        </div>
        <div class="col-md-6">
            <label for="email" class="form-label">Email *</label>
            <input type="email" class="form-control" id="email" name="email" required>
        </div>
        <div class="col-md-6">
            <label for="telephone" class="form-label">Téléphone</label>
            <input type="tel" class="form-control" id="telephone" name="telephone">
        </div>
        <div class="col-12">
            <label for="sujet" class="form-label">Sujet *</label>
            <select class="form-select" id="sujet" name="sujet" required>
                <option value="" selected disabled>Sélectionnez un sujet</option>
                <option value="financement">Demande de financement</option>
                <option value="information">Demande d'information</option>
                <option value="rendezvous">Demande de rendez-vous</option>
                <option value="support">Support technique</option>
                <option value="autre">Autre</option>
            </select>
        </div>
        <div class="col-12">
            <label for="message" class="form-label">Message *</label>
            <textarea class="form-control" id="message" name="message" rows="5" required></textarea>
        </div>
        <div class="col-12">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="consentement" name="consentement" required>
                <label class="form-check-label" for="consentement">
                    J'accepte que mes informations soient utilisées pour me recontacter *
                </label>
            </div>
        </div>
        <div class="col-12 mt-4">
            <button type="submit" class="btn btn-contact w-100" id="submitBtn">
                <span class="spinner-border spinner-border-sm me-2 d-none" id="spinner" role="status" aria-hidden="true"></span>
                Envoyer le message
            </button>
        </div>
    </div>
</form>

<!-- Ajoutez cette div pour afficher les messages de statut -->
<div id="formMessage" class="alert mt-3 d-none"></div>


document.getElementById('contactForm').addEventListener('submit', function(e) {
                e.preventDefault();
                
                // Afficher le spinner et désactiver le bouton
                const submitBtn = document.getElementById('submitBtn');
                const spinner = document.getElementById('spinner');
                const formMessage = document.getElementById('formMessage');
                
                submitBtn.disabled = true;
                spinner.classList.remove('d-none');
                formMessage.classList.add('d-none');
                
                // Récupérer les données du formulaire
                const formData = new FormData(this);
                
                // Envoyer les données via AJAX
                fetch('contact.php', {
                    method: 'POST',
                    body: formData
                })
                .then(response => response.json())
                .then(data => {
                    // Cacher le spinner et réactiver le bouton
                    submitBtn.disabled = false;
                    spinner.classList.add('d-none');
                    
                    // Afficher le message
                    formMessage.classList.remove('d-none');
                    formMessage.classList.remove('alert-success', 'alert-danger');
                    
                    if (data.success) {
                        formMessage.classList.add('alert-success');
                        formMessage.innerHTML = '<i class="fas fa-check-circle me-2"></i>' + data.message;
                        this.reset(); // Réinitialiser le formulaire
                    } else {
                        formMessage.classList.add('alert-danger');
                        formMessage.innerHTML = '<i class="fas fa-exclamation-circle me-2"></i>' + data.message;
                    }
                })
                .catch(error => {
                    // Gestion des erreurs
                    submitBtn.disabled = false;
                    spinner.classList.add('d-none');
                    
                    formMessage.classList.remove('d-none');
                    formMessage.classList.add('alert-danger');
                    formMessage.innerHTML = '<i class="fas fa-exclamation-circle me-2"></i>Une erreur s\'est produite. Veuillez réessayer.';
                });
            });